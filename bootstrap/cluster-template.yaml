apiVersion: v1alpha1
kind: ClusterTemplate
metadata:
  name: proxmox-talos-cluster
  namespace: default
spec:
  description: "Talos cluster template for Proxmox VMs managed by Sidero Omni"
  
  # Cluster configuration
  cluster:
    name: talos-cluster
    version: v1.7.0
    network:
      cni: flannel
      dnsDomain: cluster.local
      podSubnets:
        - 10.244.0.0/16
      serviceSubnets:
        - 10.96.0.0/12
  
  # Control plane configuration
  controlPlane:
    replicas: 3
    machineTemplate:
      name: control-plane-template
  
  # Worker configuration
  workers:
    - name: regular-workers
      replicas: 3
      machineTemplate:
        name: worker-template
    
    - name: gpu-workers
      replicas: 2
      machineTemplate:
        name: gpu-worker-template
