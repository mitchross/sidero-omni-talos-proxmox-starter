apiVersion: v1alpha1
kind: MachineList
metadata:
  name: proxmox-machines
  namespace: default

machines:
  # Control Plane Machines
  - name: control-plane-01
    labels:
      node-role: control-plane
      cluster: talos-cluster
    spec:
      cpu: 4
      memory: 8192
      disk: 50
      network:
        interface: eth0
        dhcp: true
  
  - name: control-plane-02
    labels:
      node-role: control-plane
      cluster: talos-cluster
    spec:
      cpu: 4
      memory: 8192
      disk: 50
      network:
        interface: eth0
        dhcp: true
  
  - name: control-plane-03
    labels:
      node-role: control-plane
      cluster: talos-cluster
    spec:
      cpu: 4
      memory: 8192
      disk: 50
      network:
        interface: eth0
        dhcp: true
  
  # Regular Worker Machines
  - name: worker-01
    labels:
      node-role: worker
      worker-type: regular
      cluster: talos-cluster
    spec:
      cpu: 8
      memory: 16384
      disk: 100
      network:
        interface: eth0
        dhcp: true
  
  - name: worker-02
    labels:
      node-role: worker
      worker-type: regular
      cluster: talos-cluster
    spec:
      cpu: 8
      memory: 16384
      disk: 100
      network:
        interface: eth0
        dhcp: true
  
  - name: worker-03
    labels:
      node-role: worker
      worker-type: regular
      cluster: talos-cluster
    spec:
      cpu: 8
      memory: 16384
      disk: 100
      network:
        interface: eth0
        dhcp: true
  
  # GPU Worker Machines
  - name: gpu-worker-01
    labels:
      node-role: worker
      worker-type: gpu
      cluster: talos-cluster
    spec:
      cpu: 16
      memory: 32768
      disk: 200
      gpu:
        enabled: true
        type: nvidia
      network:
        interface: eth0
        dhcp: true
  
  - name: gpu-worker-02
    labels:
      node-role: worker
      worker-type: gpu
      cluster: talos-cluster
    spec:
      cpu: 16
      memory: 32768
      disk: 200
      gpu:
        enabled: true
        type: nvidia
      network:
        interface: eth0
        dhcp: true
